<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="evcc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="device">

		<label>EVCC Binding Thing</label>
		<description>Sample thing for EVCC Binding</description>

		<channel-groups>
			<channel-group id="general" typeId="general"/>
			<channel-group id="loadpoint1" typeId="loadpoint"/>
			<channel-group id="loadpoint2" typeId="loadpoint"/>
			<channel-group id="loadpoint3" typeId="loadpoint"/>
			<channel-group id="loadpoint4" typeId="loadpoint"/>
			<channel-group id="loadpoint0" typeId="loadpoint"/>
		</channel-groups>

		<config-description>
			<parameter name="host" type="text" required="true">
				<context>network-address</context>
				<label>Hostname</label>
				<description>Hostname or IP address of the device</description>
			</parameter>
			<parameter name="refreshInterval" type="integer" unit="s" min="1">
				<label>Refresh Interval</label>
				<description>Interval the device is polled in sec.</description>
				<default>60</default>
				<advanced>true</advanced>
			</parameter>
		</config-description>
	</thing-type>

	<channel-group-type id="general">
		<label>General data</label>
	</channel-group-type>
	<channel-group-type id="loadpoint">
		<label>Loadpoint</label>
	</channel-group-type>

	<channel-type id="batteryPower">
		<item-type>Number:Power</item-type>
		<label>Battery Power</label>
		<description>Power the battery delivers</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="batterySoC">
		<item-type>Number:Dimensionless</item-type>
		<label>Battery SoC</label>
		<description>Battery State of Charge</description>
		<category>batterylevel</category>
		<state pattern="%d %%" readOnly="true"/>
	</channel-type>
	<channel-type id="batteryPrioritySoC">
		<item-type>Number:Dimensionless</item-type>
		<label>Battery Priority SoC</label>
		<description>Battery Priority State of Charge</description>
		<category>batterylevel</category>
		<state pattern="%d %%" readOnly="true"/>
	</channel-type>
	<channel-type id="gridPower">
		<item-type>Number:Power</item-type>
		<label>Grid Power</label>
		<description>Power from grid (negative on feed-in)</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="homePower">
		<item-type>Number:Power</item-type>
		<label>Home Power</label>
		<description>Power the home takes</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="pvPower">
		<item-type>Number:Power</item-type>
		<label>PV Power</label>
		<description>Power from photovoltaik</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>

	<!-- Channels for loadpoints -->
	<channel-type id="activePhases">
		<item-type>Number</item-type>
		<label>Active phases</label>
		<description>Number of active phases on loadpoint</description>
		<category></category>
		<state pattern="%d" readOnly="true"/>
	</channel-type>
	<channel-type id="chargeCurrent">
		<item-type>Number:ElectricCurrent</item-type>
		<label>Charging current</label>
		<description>Electric current of charging</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="chargeDuration">
		<item-type>Number:Time</item-type>
		<label>Charging duration</label>
		<description>Charging duration from beginning until now</description>
		<category>Time</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="chargePower">
		<item-type>Number:Power</item-type>
		<label>Charging power</label>
		<description>Charging power</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="chargeRemainingDuration">
		<item-type>Number:Time</item-type>
		<label>Charging remaining duration</label>
		<description>Remaining duration until charging is completed</description>
		<category>Time</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="chargedEnergy">
		<item-type>Number:Energy</item-type>
		<label>Charged energy</label>
		<description>Energy charged during this charging process</description>
		<category>Energy</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="charging">
		<item-type>Switch</item-type>
		<label>Charging state</label>
		<description>Charging or not</description>
		<category>Energy</category>
		<state pattern="%f %unit%" readOnly="true">
			<options>
				<option value="ON">Charging</option>
				<option value="OFF">Not charging</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="connected">
		<item-type>Switch</item-type>
		<label>Connected state</label>
		<description>Pluged-in or not</description>
		<category>Switch</category>
		<state readOnly="true">
			<options>
				<option value="ON">Connected</option>
				<option value="OFF">Not connected</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="connectedDuration">
		<item-type>Number:Time</item-type>
		<label>Connected duration</label>
		<description>Plugged-in duration</description>
		<category>Time</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="enabled">
		<item-type>Switch</item-type>
		<label>Loadpoint enabled</label>
		<description>Loadpoint enabed or not</description>
		<category>Switch</category>
		<state readOnly="true">
			<options>
				<option value="ON">Enabled</option>
				<option value="OFF">Disabled</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="hasVehicle">
		<item-type>Switch</item-type>
		<label>Has vehicle</label>
		<description></description>
		<category>Switch</category>
		<state readOnly="true">
			<options>
				<option value="ON">Has vehicle</option>
				<option value="OFF">Has no vehicle</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="maxCurrent">
		<item-type>Number:ElectricCurrent</item-type>
		<label>Max current</label>
		<description>Maximum electric current</description>
		<category>Energy</category>
		<state min="0" step="1" pattern="%.0f %unit%" readOnly="false"/>
	</channel-type>
	<channel-type id="minCurrent">
		<item-type>Number:ElectricCurrent</item-type>
		<label>Min current</label>
		<description>Minimum electric current</description>
		<category>Energy</category>
		<state min="0" step="1" pattern="%.0f %unit%" readOnly="false"/>
	</channel-type>
	<channel-type id="minSoC">
		<item-type>Number:Dimensionless</item-type>
		<label>Min SoC</label>
		<description>Minimum state of charge</description>
		<category>Batterylevel</category>
		<state min="0" step="1" max="100" pattern="%d %%" readOnly="false"/>
	</channel-type>
	<channel-type id="mode">
		<item-type>String</item-type>
		<label>Charge mode</label>
		<description>Mode of charging</description>
		<category>String</category>
		<state readOnly="false">
			<options>
				<option value="off">Stop</option>
				<option value="now">Now</option>
				<option value="minpv">Min + PV</option>
				<option value="pv">Only PV</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="phases">
		<item-type>Number</item-type>
		<label>Phases</label>
		<description>Maximum of phases to use</description>
		<category>Energy</category>
		<state min="0" step="1" max="3" pattern="%d" readOnly="false"/>
	</channel-type>
	<channel-type id="pvAction">
		<item-type>Switch</item-type>
		<label>PV action</label>
		<description>PV (solarplant) activity</description>
		<category>Solarplant</category>
		<state readOnly="true">
			<options>
				<option value="ON">active</option>
				<option value="OFF">inactive</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="targetSoC">
		<item-type>Number:Dimensionless</item-type>
		<label>Charging target SoC</label>
		<description>Target state of charge of electric vehicle</description>
		<category>Batterylevel</category>
		<state min="0" step="1" max="100" pattern="%d %%" readOnly="false"/>
	</channel-type>
	<channel-type id="targetTime">
		<item-type>Number:Time</item-type>
		<label>Charging target time</label>
		<description>Target time for charging</description>
		<category>Time</category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="targetTimeActive">
		<item-type>Switch</item-type>
		<label>Charging target enabled</label>
		<description>Target time for charging enabled or not</description>
		<category>Switch</category>
		<state readOnly="true">
			<options>
				<option value="ON">Enabled</option>
				<option value="OFF">Disabled</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="title">
		<item-type>String</item-type>
		<label>Title</label>
		<description>Title of loadpoint</description>
		<category>Text</category>
		<state readOnly="true"/>
	</channel-type>
	<channel-type id="vehicleCapacity">
		<item-type>Number:Energy</item-type>
		<label>Vehicle capacity</label>
		<description>Capacity of EV battery</description>
		<category>Energy</category>
		<state pattern="%d %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="vehicleOdometer">
		<item-type>Number:Length</item-type>
		<label>Vehicle odometer</label>
		<description>Total distance travelled EV</description>
		<category></category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="vehiclePresent">
		<item-type>Switch</item-type>
		<label>Vehicle present</label>
		<description>Vehicle is present or not</description>
		<category>Switch</category>
		<state readOnly="true">
			<options>
				<option value="ON">Present</option>
				<option value="OFF">Not present</option>
			</options>
		</state>
	</channel-type>
	<channel-type id="vehicleRange">
		<item-type>Number:Length</item-type>
		<label>Vehicle range</label>
		<description>Battery range for EV</description>
		<category></category>
		<state pattern="%.1f %unit%" readOnly="true"/>
	</channel-type>
	<channel-type id="vehicleSoC">
		<item-type>Number:Dimensionless</item-type>
		<label>Vehicle SoC</label>
		<description>Current state of charge of electric vehicle</description>
		<category>Batterylevel</category>
		<state min="0" step="1" max="100" pattern="%d %%" readOnly="true"/>
	</channel-type>
	<channel-type id="vehicleTitle">
		<item-type>String</item-type>
		<label>Vehicle title</label>
		<description>Name of EV</description>
		<category>Text</category>
		<state readOnly="true"/>
	</channel-type>
</thing:thing-descriptions>
